
<div class="animated fadeIn" ng-controller="appointmentController">
    <div class="row">
        <div class="col-md-12">
            <div class="card">
                <div class="card-block">
                    <div class="row">
                        <!--/.col-->
                      <div class="col-sm-6 col-lg-6">
                          <div class="row">
                            <div class="col-sm-12 col-lg-12">
                              <div class="row">
                                <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 tc" >
                                    <div class="card-block">
                                      <button type="button" class="btn btn-outline-primary btn-block" ng-if="!appointmentToday" ng-click="showToday()">Today<span class="badge badge-info font-15">
                                        {{ todaysAppointment.length > 0 && todaysAppointment.length || 0 }}
                                      </span></button>
                                      <button type="button" class="btn btn-block btn-primary" ng-if="appointmentToday">Today<span class="badge badge-info font-15">{{ todaysAppointment.length > 0 && todaysAppointment.length || 0 }}</span></button>
                                    </div>
                                </div>
                                <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 tc" ng-hide="!useOverstay">
                                    <div class="card-block">
                                      <button type="button" class="btn btn-outline-primary btn-block" ng-if="!appointmentOverstay" ng-click="showOverstay()">Overstay<span class="badge badge-info font-15">{{ overstayappointment.length > 0 && overstayappointment.length || 0 }}</span></button>
                                      <button type="button" class="btn btn-primary btn-block" ng-if="appointmentOverstay">Overstay<span class="badge badge-info font-15">{{ overstayappointment.length > 0 && overstayappointment.length || 0 }}</span></button>
                                    </div>
                                </div>
                                <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 tc" ng-hide="!useVip">
                                  <div class="card-block">
                                    <button type="button" class="btn btn-outline-primary btn-block" ng-if="!appointmentVip" ng-click="showVIP()">VIP<span class="badge badge-info font-15">{{ vipappointment.length > 0 && vipappointment.length || 0 }}</span></button>
                                    <button type="button" class="btn btn-primary btn-block" ng-if="appointmentVip">VIP<span class="badge badge-info font-15">{{ vipappointment.length > 0 && vipappointment.length || 0 }}</span></button>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <!--/.row-->
                          <hr class="mt-0">
                      </div>
                        <!--/.col-->
                        <div class="col-sm-6 col-lg-6">
                            <div class="row">
                                <div class="col-sm-12 col-lg-12">
                                    <div class="card-block padding-top-0">
                                        <small class="text-muted">Name/Host/Company/Pass No/vehicle No</small>
                                        <br>
                                        <div class="input-group">
                                          <input type="text" id="input2-group2" name="input2-group2" class="form-control" placeholder="Type" ng-model="appointmentSearch">
                                      </div>
                                    </div>
                                </div>
                            </div>
                            <!--/.row-->
                            <hr class="mt-0">
                        </div>
                    </div>



                    <div class="row" ng-hide="!appointmentToday">
                      <div class="col-sm-12">
                        <div class="row">
                            <div class="col-sm-2"  ng-if="todaysAppointment.length > 0">
                                <div class="dropdown">
                                  <button class="btn btn-success dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <span ng-if="selectionAppointment.length < 1">None</span>
                                    <span ng-if="selectionAppointment.length > 0 && selectionAppointment.length < todaysAppointment.length">Selected</span>
                                    <span ng-if="selectionAppointment.length == todaysAppointment.length">All</span>
                                  </button>
                                  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                    <a class="dropdown-item" href="#" ng-click="unselectAllAppointmentToday()">None</a>
                                    <a class="dropdown-item" href="#" ng-click="selectAllAppointmentToday()">All</a>
                                  </div>
                                </div>
                            </div>
                            <div class="col-sm-10" ng-hide="selectionAppointment.length < 1">
                                <button class="btn btn-secondary rv-view" type="button" ng-click="todayAppointmentView(selectionAppointment)" ng-hide="selectionAppointment.length > 1">
                                    View
                                </button>
                                <button class="btn btn-secondary rv-edit" type="button" ng-click="todayAppointmentEdit()" ng-hide="selectionAppointment.length > 1 ">
                                    Edit
                                </button>
                                <button class="btn btn-secondary rv-mark-entry" type="button" ng-click="todayAppointmentMarkEntry(selectionAppointment)" ng-if="!disableMarkEntry">
                                    Mark entry
                                </button>
                                <button class="btn btn-secondary rv-mark-exit" type="button" ng-click="todayAppointmentMarkExit(selectionAppointment)" ng-if="!disableMarkExit">
                                    Mark exit
                                </button>
                                <button class="btn btn-secondary rv-export" type="button" ng-click="exportTodaysSelectedData(selectionAppointment)" ng-hide="selectionAppointment.length < 1">
                                    Export
                                </button>
                                <button class="btn btn-secondary rv-delete" type="button" ng-click="todayAppointmentDelete(selectionAppointment)">
                                    Delete
                                </button>
                                <button class="btn btn-secondary rv-block" type="button" ng-click="todayAppointmentBlock(selectionAppointment)" ng-if="!disableBlock">
                                    Block
                                </button>
                            </div>
                        </div>
                     
                    <!--/.row-->
                    <div class="padding-top-16">
                        <!-- Today -->
                        <table class="table" id="todayAppointmentTable">
                          <thead>
                            <tr>
                              <th scope="col">#</th>
                              <th scope="col">Image</th>
                              <th scope="col">Status</th>
                              <th scope="col">Pass no</th>
                              <th scope="col">Name</th>
                              <th scope="col">Host</th>
                              <th scope="col">Company</th>
                              <th scope="col">Purpose</th>
                              <th scope="col">Entry Time</th>
                              <th scope="col">Exit Time</th>
                            </tr>
                          </thead>
                          <tbody ng-hide="todaysAppointment.length == 0">
                            <tr ng-repeat="tAppointment in todaysAppointment | filter: appointmentSearch" ng-click="todayCheckboxchecked()">
                              <td><input type="checkbox"
                                          name="selectedAppointments[]"
                                          value="{{tAppointment.id}}"
                                          ng-model="tAppointment.selected"
                                          ng-checked="selectionAppointment.indexOf(tAppointment.id) > -1"
                                          ng-click="toggleSelection(tAppointment)"></td>
                              <th scope="row">
                                <div class="avatar">
                                    <img ng-src="https://cppjs.com/api/visitor/visitorid/{{tAppointment.visitorid}}/photo/user/{{userid}}/uuid/{{uuid}}" class="img-avatar" alt="visitor image" src="img/avatars/1.jpg">
                                </div>
                              </th>
                              <td ng-if="userrole==='role_company_gate' || userrole==='role_company_admin'">
                                <span ng-if="tAppointment.gateentrytime && !tAppointment.gateexittime" class="entered">
                                  Entered
                                </span>
                                <span ng-if="!tAppointment.gateentrytime" class="expected">
                                  Expected
                                </span>
                                <span ng-if="tAppointment.gateexittime" class="exited"> Exited </span>
                                <img src="/img/blocked.png" ng-if="tAppointment.isblocked > 0" class="margin-left-bottom-5">
                                <img src="/img/desktop.png" ng-if="tAppointment.isblocked < 1 && tAppointment.hostapprovalstatus ==1 && tAppointment.creatorid == 2" class="margin-left-bottom-5">
                                <img src="/img/mobile.png" ng-if="tAppointment.isblocked < 1 && tAppointment.hostapprovalstatus ==1 && tAppointment.creatorid == 3" class="margin-left-bottom-5">
                                <img src="/img/approved.png" ng-if="tAppointment.isblocked < 1 && tAppointment.hostapprovalstatus > 1 && tAppointment.hostapprovalstatus == 3" class="margin-left-bottom-5">
                                <img src="/img/rejected.png" ng-if="tAppointment.isblocked < 1 && tAppointment.hostapprovalstatus > 1 && tAppointment.hostapprovalstatus != 3" class="margin-left-bottom-5">
                              </td>
                              <td ng-if="userrole==='role_company_building_gate'">
                                <span ng-if="tAppointment.buildingentrytime && !tAppointment.buildingexittime" class="entered">
                                  Entered
                                </span>
                                <span ng-if="!tAppointment.buildingentrytime" class="expected">
                                  Expected
                                </span>
                                <span ng-if="tAppointment.buildingexittime" class="exited"> Exited </span>
                                <img src="/img/blocked.png" ng-if="tAppointment.isblocked > 0" class="margin-left-bottom-5">
                                <img src="/img/desktop.png" ng-if="tAppointment.isblocked < 1 && tAppointment.hostapprovalstatus ==1 && tAppointment.creatorid == 2" class="margin-left-bottom-5">
                                <img src="/img/mobile.png" ng-if="tAppointment.isblocked < 1 && tAppointment.hostapprovalstatus ==1 && tAppointment.creatorid == 3" class="margin-left-bottom-5">
                                <img src="/img/approved.png" ng-if="tAppointment.isblocked < 1 && tAppointment.hostapprovalstatus > 1 && tAppointment.hostapprovalstatus == 3" class="margin-left-bottom-5">
                                <img src="/img/rejected.png" ng-if="tAppointment.isblocked < 1 && tAppointment.hostapprovalstatus > 1 && tAppointment.hostapprovalstatus != 3" class="margin-left-bottom-5">
                              </td>
                              <td ng-if="userrole==='role_company_reception'">
                                <span ng-if="tAppointment.companyentrytime && !tAppointment.companyexittime" class="entered">
                                  Entered
                                </span>
                                <span ng-if="!tAppointment.companyentrytime" class="expected">
                                  Expected
                                </span>
                                <span ng-if="tAppointment.companyexittime" class="exited"> Exited </span>
                                <img src="/img/blocked.png" ng-if="tAppointment.isblocked > 0" class="margin-left-bottom-5">
                                <img src="/img/desktop.png" ng-if="tAppointment.isblocked < 1 && tAppointment.hostapprovalstatus ==1 && tAppointment.creatorid == 2" class="margin-left-bottom-5">
                                <img src="/img/mobile.png" ng-if="tAppointment.isblocked < 1 && tAppointment.hostapprovalstatus ==1 && tAppointment.creatorid == 3" class="margin-left-bottom-5">
                                <img src="/img/approved.png" ng-if="tAppointment.isblocked < 1 && tAppointment.hostapprovalstatus > 1 && tAppointment.hostapprovalstatus == 3" class="margin-left-bottom-5">
                                <img src="/img/rejected.png" ng-if="tAppointment.isblocked < 1 && tAppointment.hostapprovalstatus > 1 && tAppointment.hostapprovalstatus != 3" class="margin-left-bottom-5">
                              </td>
                              <td>{{tAppointment.visitorpassno}}</td>
                              <td>{{tAppointment.visitorname}}<br>
                                {{ !tAppointment.visitormobile && '--' || tAppointment.visitormobile }}
                              </td>
                              <td>{{tAppointment.visiteename}}<br>
                                {{ !tAppointment.visiteemobile && '--' || tAppointment.visiteemobile }}
                              </td>
                              <td>{{tAppointment.fromcompany}}</td>
                              <td>{{tAppointment.purpose}}</td>

                              <!-- Role Receptions-->
                              <td ng-if="userrole==='role_company_reception'">
                                {{ !tAppointment.companyentrytime && '--' || tAppointment.companyentrytime }}
                              </td>
                              <td ng-if="userrole==='role_company_reception'">
                                {{ !tAppointment.companyexittime && '--' || tAppointment.companyexittime }}
                              </td>

                              <!-- Role Building Gate -->
                              <td ng-if="userrole==='role_company_building_gate'">
                                {{ !tAppointment.buildingentrytime && '--' || tAppointment.buildingentrytime }}
                              </td>
                              <td ng-if="userrole==='role_company_building_gate'">
                                {{ !tAppointment.buildingexittime && '--' || tAppointment.buildingexittime }}
                              </td>

                              <!-- Role Gate and Admin -->
                              <td ng-if="userrole==='role_company_gate' || userrole==='role_company_admin'">
                                {{ !tAppointment.gateentrytime && '--' || tAppointment.gateentrytime }}
                              </td>
                              <td ng-if="userrole==='role_company_gate' || userrole==='role_company_admin'">
                                {{ !tAppointment.gateexittime && '--' || tAppointment.gateexittime }}
                              </td>

                            </tr>
                          </tbody>
                          <tbody ng-show="todaysAppointment.length == 0">
                            <tr>
                                <td colspan="8"> No Data Found </td>
                            </tr>
                          </tbody>
                        </table>
                    </div>
                </div>
                 </div>



                <div class="row" ng-hide="!appointmentOverstay">
                      <div class="col-sm-12">
                        <div class="row">
                            <div class="col-sm-2" ng-if="overstayappointment.length > 0">
                                <div class="dropdown">
                                  <button class="btn btn-success dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <span ng-if="selectionOverStay.length < 1">None</span>
                                    <span ng-if="selectionOverStay.length > 0 && selectionOverStay.length < overstayappointment.length">Selected</span>
                                    <span ng-if="selectionOverStay.length == overstayappointment.length">All</span>
                                  </button>
                                  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                    <a class="dropdown-item" href="#" ng-click="unselectAllAppointmentOverstay()">None</a>
                                    <a class="dropdown-item" href="#" ng-click="selectAllAppointmentOverstay()">All</a>
                                  </div>
                                </div>
                            </div>
                            <div class="col-sm-10" ng-hide="selectionOverStay.length < 1">
                               <button class="btn btn-secondary rv-view" type="button" ng-click="overstayView(selectionOverStay)" ng-hide="selectionOverStay.length > 1">
                                    View
                                </button>
                                <button class="btn btn-secondary rv-edit" type="button" ng-click="overstayEdit(selectionOverStay)" ng-hide="selectionOverStay.length > 1 ">
                                    Edit
                                </button>
                                <button class="btn btn-secondary rv-mark-exit" type="button" ng-click="overstayMarkExit(selectionOverStay)" ng-hide="" ng-if="!disableMarkExit">
                                    Mark exit
                                </button>
                                <button class="btn btn-secondary rv-export" type="button" ng-click="overstayExport(selectionOverStay)" ng-hide="selectionOverStay.length < 1">
                                    Export
                                </button>
                                <button class="btn btn-secondary rv-delete" type="button" ng-click="overstayDelete(selectionOverStay)">
                                    Delete
                                </button>
                                <button class="btn btn-secondary rv-block" type="button" ng-click="overstayBlock(selectionOverStay)" ng-if="!disableOverstayBlock">
                                    Block
                                </button>
                            </div>
                        </div>
                     
                    
                    <!--/.row-->
                    <div class="padding-top-16">
                        <!-- Overstay -->
                        <table class="table" id="overstayTable">
                          <thead>
                            <tr>
                              <th scope="col">#</th>
                              <th scope="col">Image</th>
                              <th scope="col">Status</th>
                              <th scope="col">Pass no</th>
                              <th scope="col">Name</th>
                              <th scope="col">Host</th>
                              <th scope="col">Company</th>
                              <th scope="col">Purpose</th>
                              <th scope="col">Entry Time</th>
                              <th scope="col">Exit Time</th>
                            </tr>
                          </thead>
                          <tbody ng-hide="overstayappointment.length == 0">
                            <tr ng-repeat="oAppointment in overstayappointment | filter: appointmentSearch" ng-click="overstayCheckboxchecked()">
                              <td><input type="checkbox"
                                          name="selectionOverStay[]"
                                          value="{{oAppointment.id}}"
                                          ng-model="oAppointment.selected"
                                          ng-checked="selectionOverStay.indexOf(oAppointment.id) > -1"
                                          ng-click="toggleOverStaySelection(oAppointment)"></td>
                              <th scope="row">
                                <div class="avatar">
                                    <img ng-src="https://cppjs.com/api/visitor/visitorid/{{oAppointment.visitorid}}/photo/user/{{userid}}/uuid/{{uuid}}" class="img-avatar" alt="visitor image" src="img/avatars/1.jpg">
                                </div>
                              </th>
                              <td ng-if="userrole==='role_company_gate' || userrole==='role_company_admin'">
                                <span ng-if="oAppointment.gateentrytime && !oAppointment.gateexittime" class="entered">
                                  Entered
                                </span>
                                <span ng-if="!oAppointment.gateentrytime" class="expected">
                                  Expected
                                </span>
                                <span ng-if="oAppointment.gateexittime" class="exited"> Exited </span>
                                <img src="/img/blocked.png" ng-if="oAppointment.isblocked > 0" class="margin-left-bottom-5">
                                <img src="/img/desktop.png" ng-if="oAppointment.isblocked < 1 && oAppointment.hostapprovalstatus ==1 && oAppointment.creatorid == 2" class="margin-left-bottom-5">
                                <img src="/img/mobile.png" ng-if="oAppointment.isblocked < 1 && oAppointment.hostapprovalstatus ==1 && oAppointment.creatorid == 3" class="margin-left-bottom-5">
                                <img src="/img/approved.png" ng-if="oAppointment.isblocked < 1 && oAppointment.hostapprovalstatus > 1 && oAppointment.hostapprovalstatus == 3" class="margin-left-bottom-5">
                                <img src="/img/rejected.png" ng-if="oAppointment.isblocked < 1 && oAppointment.hostapprovalstatus > 1 && oAppointment.hostapprovalstatus != 3" class="margin-left-bottom-5">
                              </td>
                              <td ng-if="userrole==='role_company_building_gate'">
                                <span ng-if="oAppointment.buildingentrytime && !oAppointment.buildingexittime" class="entered">
                                  Entered
                                </span>
                                <span ng-if="!oAppointment.buildingentrytime" class="expected">
                                  Expected
                                </span>
                                <span ng-if="oAppointment.buildingexittime" class="exited"> Exited </span>
                                <img src="/img/blocked.png" ng-if="oAppointment.isblocked > 0" class="margin-left-bottom-5">
                                <img src="/img/desktop.png" ng-if="oAppointment.isblocked < 1 && oAppointment.hostapprovalstatus ==1 && oAppointment.creatorid == 2" class="margin-left-bottom-5">
                                <img src="/img/mobile.png" ng-if="oAppointment.isblocked < 1 && oAppointment.hostapprovalstatus ==1 && oAppointment.creatorid == 3" class="margin-left-bottom-5">
                                <img src="/img/approved.png" ng-if="oAppointment.isblocked < 1 && oAppointment.hostapprovalstatus > 1 && oAppointment.hostapprovalstatus == 3" class="margin-left-bottom-5">
                                <img src="/img/rejected.png" ng-if="oAppointment.isblocked < 1 && oAppointment.hostapprovalstatus > 1 && oAppointment.hostapprovalstatus != 3" class="margin-left-bottom-5">
                              </td>
                              <td ng-if="userrole==='role_company_reception'">
                                <span ng-if="oAppointment.companyentrytime && !oAppointment.companyexittime" class="entered">
                                  Entered
                                </span>
                                <span ng-if="!oAppointment.companyentrytime" class="expected">
                                  Expected
                                </span>
                                <span ng-if="oAppointment.companyexittime" class="exited"> Exited </span>
                                <img src="/img/blocked.png" ng-if="oAppointment.isblocked > 0" class="margin-left-bottom-5">
                                <img src="/img/desktop.png" ng-if="oAppointment.isblocked < 1 && oAppointment.hostapprovalstatus ==1 && oAppointment.creatorid == 2" class="margin-left-bottom-5">
                                <img src="/img/mobile.png" ng-if="oAppointment.isblocked < 1 && oAppointment.hostapprovalstatus ==1 && oAppointment.creatorid == 3" class="margin-left-bottom-5">
                                <img src="/img/approved.png" ng-if="oAppointment.isblocked < 1 && oAppointment.hostapprovalstatus > 1 && oAppointment.hostapprovalstatus == 3" class="margin-left-bottom-5">
                                <img src="/img/rejected.png" ng-if="oAppointment.isblocked < 1 && oAppointment.hostapprovalstatus > 1 && oAppointment.hostapprovalstatus != 3" class="margin-left-bottom-5">
                              </td>
                              <td>{{oAppointment.visitorpassno}}</td>
                              <td>{{oAppointment.visitorname}}<br>
                                {{ !oAppointment.visitormobile && '--' || oAppointment.visitormobile }}
                              </td>
                              <td>{{oAppointment.visiteename}}<br>
                                {{ !oAppointment.visiteemobile && '--' || oAppointment.visiteemobile }}
                              </td>
                              <td>{{oAppointment.fromcompany}}</td>
                              <td>{{oAppointment.purpose}}</td>

                              <!-- Role Receptions-->
                              <td ng-if="userrole==='role_company_reception'">
                                {{ !oAppointment.companyentrytime && '--' || oAppointment.companyentrytime }}
                              </td>
                              <td ng-if="userrole==='role_company_reception'">
                                {{ !oAppointment.companyexittime && '--' || oAppointment.companyexittime }}
                              </td>

                              <!-- Role Building Gate -->
                              <td ng-if="userrole==='role_company_building_gate'">
                                {{ !oAppointment.buildingentrytime && '--' || oAppointment.buildingentrytime }}
                              </td>
                              <td ng-if="userrole==='role_company_building_gate'">
                                {{ !oAppointment.buildingexittime && '--' || oAppointment.buildingexittime }}
                              </td>

                              <!-- Role Gate and Admin -->
                              <td ng-if="userrole==='role_company_gate' || userrole==='role_company_admin'">
                                {{ !oAppointment.gateentrytime && '--' || oAppointment.gateentrytime }}
                              </td>
                              <td ng-if="userrole==='role_company_gate' || userrole==='role_company_admin'">
                                {{ !oAppointment.gateexittime && '--' || oAppointment.gateexittime }}
                              </td>

                            </tr>
                          </tbody>
                          <tbody ng-show="overstayappointment.length == 0">
                            <tr>
                                <td colspan="8"> No Data Found </td>
                            </tr>
                          </tbody>
                        </table>
                    </div>
                </div>
                 </div>

            <div class="row" ng-hide="!appointmentVip">
                      <div class="col-sm-12">
                        <div class="row">
                            <div class="col-sm-2" ng-if="vipappointment.length > 0">
                                <div class="dropdown">
                                  <button class="btn btn-success dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <span ng-if="selectionVip.length < 1">None</span>
                                    <span ng-if="selectionVip.length > 0 && selectionVip.length < vipappointment.length">Selected</span>
                                    <span ng-if="selectionVip.length == vipappointment.length">All</span>
                                  </button>
                                  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                    <a class="dropdown-item" href="#" ng-click="unselectAllAppointmentVip()">None</a>
                                    <a class="dropdown-item" href="#" ng-click="selectAllAppointmentVip()">All</a>
                                  </div>
                                </div>
                            </div>
                            <div class="col-sm-10" ng-hide="selectionVip.length < 1">
                                <button class="btn btn-secondary rv-view" type="button" ng-click="vipAppointmentView(selectionVip)" ng-hide="selectionVip.length > 1">
                                    View
                                </button>
                                <button class="btn btn-secondary rv-edit" type="button" ng-click="vipAppointmentEdit()" ng-hide="selectionVip.length > 1">
                                    Edit
                                </button>
                                <button class="btn btn-secondary rv-mark-entry" type="button" ng-click="vipAppointmentMarkEntry(selectionVip)" ng-hide="selectionVip.length > 1" ng-if="!disableVipMarkEntry">
                                    Mark entry
                                </button>
                                <button class="btn btn-secondary rv-mark-exit" type="button" ng-click="vipAppointmentMarkExit(selectionVip)" ng-hide="selectionVip.length > 1" ng-if="!disableVipMarkExit">
                                    Mark exit
                                </button>
                                <button class="btn btn-secondary rv-export" type="button" ng-click="exportVipSelectedData(selectionVip)" ng-hide="selectionVip.length < 1">
                                    Export
                                </button>
                                <button class="btn btn-secondary rv-delete" type="button" ng-click="vipAppointmentDelete(selectionVip)">
                                    Delete
                                </button>
                                <button class="btn btn-secondary rv-block" type="button" ng-click="vipAppointmentBlock(selectionVip)" ng-if="!disableVipBlock">
                                    Block
                                </button>
                            </div>
                        </div>
                     
                    <!--/.row-->
                    <div class="padding-top-16">
                        <!-- Vip Appointment-->
                        <table class="table" id="vipAppointmentTable">
                          <thead>
                            <tr>
                              <th scope="col">#</th>
                              <th scope="col">Image</th>
                              <th scope="col">Status</th>
                              <th scope="col">Pass no</th>
                              <th scope="col">Name</th>
                              <th scope="col">Host</th>
                              <th scope="col">Company</th>
                              <th scope="col">Purpose</th>
                              <th scope="col">Entry Time</th>
                              <th scope="col">Exit Time</th>
                            </tr>
                          </thead>
                          <tbody ng-hide="vipappointment.length == 0">
                            <tr ng-repeat="vAppointment in vipappointment | filter: appointmentSearch" ng-click="vipCheckboxchecked()">
                            <td><input type="checkbox"
                                          name="selectionVip[]"
                                          value="{{vAppointment.id}}"
                                          ng-model="vAppointment.selected"
                                          ng-checked="selectionVip.indexOf(vAppointment.id) > -1"
                                          ng-click="toggleVipSelection(vAppointment)"></td>
                              <th scope="row">
                                <div class="avatar">
                                    <img ng-src="https://cppjs.com/api/visitor/visitorid/{{vAppointment.visitorid}}/photo/user/{{userid}}/uuid/{{uuid}}" class="img-avatar" alt="admin@bootstrapmaster.com" src="img/avatars/1.jpg">
                                </div>
                              </th>
                              <td ng-if="userrole==='role_company_gate' || userrole==='role_company_admin'">
                                <span ng-if="vAppointment.gateentrytime && !vAppointment.gateexittime" class="entered">
                                  Entered
                                </span>
                                <span ng-if="!vAppointment.gateentrytime" class="expected">
                                  Expected
                                </span>
                                <span ng-if="vAppointment.gateexittime" class="exited"> Exited </span>
                                <img src="/img/blocked.png" ng-if="vAppointment.isblocked > 0" class="margin-left-bottom-5">
                                <img src="/img/desktop.png" ng-if="vAppointment.isblocked < 1 && vAppointment.hostapprovalstatus ==1 && vAppointment.creatorid == 2" class="margin-left-bottom-5">
                                <img src="/img/mobile.png" ng-if="vAppointment.isblocked < 1 && vAppointment.hostapprovalstatus ==1 && vAppointment.creatorid == 3" class="margin-left-bottom-5">
                                <img src="/img/approved.png" ng-if="vAppointment.isblocked < 1 && vAppointment.hostapprovalstatus > 1 && vAppointment.hostapprovalstatus == 3" class="margin-left-bottom-5">
                                <img src="/img/rejected.png" ng-if="vAppointment.isblocked < 1 && vAppointment.hostapprovalstatus > 1 && vAppointment.hostapprovalstatus != 3" class="margin-left-bottom-5">
                              </td>
                              <td ng-if="userrole==='role_company_building_gate'">
                                <span ng-if="vAppointment.buildingentrytime && !vAppointment.buildingexittime" class="entered">
                                  Entered
                                </span>
                                <span ng-if="!vAppointment.buildingentrytime" class="expected">
                                  Expected
                                </span>
                                <span ng-if="vAppointment.buildingexittime" class="exited"> Exited </span>
                                <img src="/img/blocked.png" ng-if="vAppointment.isblocked > 0" class="margin-left-bottom-5">
                                <img src="/img/desktop.png" ng-if="vAppointment.isblocked < 1 && vAppointment.hostapprovalstatus ==1 && vAppointment.creatorid == 2" class="margin-left-bottom-5">
                                <img src="/img/mobile.png" ng-if="vAppointment.isblocked < 1 && vAppointment.hostapprovalstatus ==1 && vAppointment.creatorid == 3" class="margin-left-bottom-5">
                                <img src="/img/approved.png" ng-if="vAppointment.isblocked < 1 && vAppointment.hostapprovalstatus > 1 && vAppointment.hostapprovalstatus == 3" class="margin-left-bottom-5">
                                <img src="/img/rejected.png" ng-if="vAppointment.isblocked < 1 && vAppointment.hostapprovalstatus > 1 && vAppointment.hostapprovalstatus != 3" class="margin-left-bottom-5">
                              </td>
                              <td ng-if="userrole==='role_company_reception'">
                                <span ng-if="vAppointment.companyentrytime && !vAppointment.companyexittime" class="entered">
                                  Entered
                                </span>
                                <span ng-if="!vAppointment.companyentrytime" class="expected">
                                  Expected
                                </span>
                                <span ng-if="vAppointment.companyexittime" class="exited"> Exited </span>
                                <img src="/img/blocked.png" ng-if="vAppointment.isblocked > 0" class="margin-left-bottom-5">
                                <img src="/img/desktop.png" ng-if="vAppointment.isblocked < 1 && vAppointment.hostapprovalstatus ==1 && vAppointment.creatorid == 2" class="margin-left-bottom-5">
                                <img src="/img/mobile.png" ng-if="vAppointment.isblocked < 1 && vAppointment.hostapprovalstatus ==1 && vAppointment.creatorid == 3" class="margin-left-bottom-5">
                                <img src="/img/approved.png" ng-if="vAppointment.isblocked < 1 && vAppointment.hostapprovalstatus > 1 && vAppointment.hostapprovalstatus == 3" class="margin-left-bottom-5">
                                <img src="/img/rejected.png" ng-if="vAppointment.isblocked < 1 && vAppointment.hostapprovalstatus > 1 && vAppointment.hostapprovalstatus != 3" class="margin-left-bottom-5">
                              </td>
                              <td>{{vAppointment.visitorpassno}}</td>
                              <td>{{vAppointment.visitorname}}
                                <br>
                                {{ !vAppointment.visitormobile && '--' || vAppointment.visitormobile }}
                              </td>
                              <td>{{vAppointment.visiteename}}
                                <br>
                                {{ !vAppointment.visiteemobile && '--' || vAppointment.visiteemobile }}
                              </td>
                              <td>{{vAppointment.fromcompany}}</td>
                              <td>{{vAppointment.purpose}}</td>

                              <!-- Role Receptions-->
                              <td ng-if="userrole==='role_company_reception'">
                                {{ !vAppointment.companyentrytime && '--' || vAppointment.companyentrytime }}
                              </td>
                              <td ng-if="userrole==='role_company_reception'">
                                {{ !vAppointment.companyexittime && '--' || vAppointment.companyexittime }}
                              </td>

                              <!-- Role Building Gate -->
                              <td ng-if="userrole==='role_company_building_gate'">
                                {{ !vAppointment.buildingentrytime && '--' || vAppointment.buildingentrytime }}
                              </td>
                              <td ng-if="userrole==='role_company_building_gate'">
                                {{ !vAppointment.buildingexittime && '--' || vAppointment.buildingexittime }}
                              </td>

                              <!-- Role Gate and Admin -->
                              <td ng-if="userrole==='role_company_gate' || userrole==='role_company_admin'">
                                {{ !vAppointment.gateentrytime && '--' || vAppointment.gateentrytime }}
                              </td>
                              <td ng-if="userrole==='role_company_gate' || userrole==='role_company_admin'">
                                {{ !vAppointment.gateexittime && '--' || vAppointment.gateexittime }}
                              </td>
                            </tr>
                          </tbody>
                          <tbody ng-show="vipappointment.length == 0">
                            <tr>
                                <td colspan="8"> No Data Found </td>
                            </tr>
                          </tbody>
                        </table>
                    </div>
            </div>
             </div>

        </div>
        <!--/.col-->
    </div>
    <!--/.row-->

</div>
</div>
</div>

<div  class="modal fade" role="dialog" id="todayAppointmentBlockModal">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Block Reason</h4>
      </div>
      <div class="modal-body">
       
        <input type="text" class="form-control" id="blockReason">

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Ok</button>
      </div>
    </div>

  </div>
</div>

<div  class="modal fade" role="dialog" id="maxAppointmentBlockModal">
  <div class="modal-dialog">
    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-body">
       
        We can block maximum of 100 appointments at once.

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Ok</button>
      </div>
    </div>

  </div>
</div>

<div  class="modal fade" role="dialog" id="maxAppointmentDeleteModal">
  <div class="modal-dialog">
    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-body">
       
        We can delete maximum of 100 appointments at once.

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Ok</button>
      </div>
    </div>

  </div>
</div>